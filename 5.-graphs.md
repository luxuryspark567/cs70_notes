# 5. Graphs

## Graph Concepts and Definitions.

Graph: $$G = (V , E)$$

* neighbors: $$u$$ is neighbor of _v_ if edge $$\{u, v \} \in E$$.
* adjacent
* degree: Degree of vertex $$u$$ is number of incident edges contribute to $$u$$.
* incident: Edge $$\{u, v\}$$ is incident to $$u$$ and $$v$$.
* in-degree (for directed graph)
* out-degree (for directed graph)

<figure><img src=".gitbook/assets/image (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

## Quick Proof.

Thm: Sum of all verteces's degress is $$2|E|$$.

* Each edge contribute 2 incidences, total $$2|E|$$.
* Degree of $$v$$ is incidences contributed to $$v$$.

## Paths, Walks, Cycles, Tour.

* <mark style="color:blue;">**Path**</mark> is a graph is a sequence of edges, $$(v_1, v_2), (v_2, v_3), . . . (v_{k−1}, v_k )$$.
  * Length of path: $$k$$ vertices or $$k−1$$ edges.
  * Path is usually <mark style="color:blue;">**simple**</mark>. <mark style="color:$danger;">**No repeated vertex**</mark>!
* <mark style="color:blue;">**Cycle:**</mark> Path with $$v_1 = v_k$$ (So there is no repeated vertex)
  * Length of cycle: $$k−1$$ vertices and edges.
* <mark style="color:blue;">**Walk**</mark> is sequence of edges <mark style="color:$warning;">with possible repeated vertex or edge</mark>.(Might have repeated vertex)
* <mark style="color:blue;">**Tour**</mark> is **walk** that <mark style="color:$warning;">starts and ends at the same vertex</mark>. (Might have repeated vertex)

{% hint style="info" %}
For directed graph, paths, walks, cycles, tours ... are analagous to undirected now.
{% endhint %}

## Connectivity: Undirected Graph

<figure><img src=".gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>



$$u$$ <mark style="color:$info;">and</mark> $$v$$ <mark style="color:$info;">are connected</mark> if there is a path (or walk) between $$u$$ and $$v$$.

<mark style="color:$danger;">A connected graph</mark> is a graph where all pairs of vertices are connected.

## Connected Components

<div data-full-width="true"><figure><img src=".gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1).png" alt="" width="375"><figcaption></figcaption></figure></div>

Connected Components

* $$\{1\}$$
* $$\{10, 7, 5, 8, 4, 3, 11\}$$
* $$\{2, 9, 6\}$$.

Connected component - **maximal set** of connected vertices.

## Finally..Back to Euler!

**An Eulerian Tour** is a tour that visits <mark style="color:$danger;">each edge</mark> exactly once. (visit all vertices??)

**Theorem:** Any undirected graph has an Eulerian tour if and only if <mark style="color:$danger;">all vertices have</mark> <mark style="color:$danger;"></mark><mark style="color:$danger;">**even degree**</mark> and <mark style="color:$danger;">is connected</mark>.

**Proof of only if:** Eulerian⇒ connected and all even degree.

* Eulerian Tour is connected so graph is connected.
* $$v$$ has even degree for:
  * Tour enters and leaves vertex $$v$$ on each visit.
  * Uses two incident edges per visit. Tour uses all incident edges.
  * For starting node, tour leaves first ....then enters at end.

<mark style="color:$success;">**When you enter, you can leave.**</mark>

<figure><img src=".gitbook/assets/image (24).png" alt=""><figcaption></figcaption></figure>

## Finding a Tour!

**Proof of if:** Even + connected ⇒ Eulerian Tour.

<figure><img src=".gitbook/assets/image (25).png" alt="" width="192"><figcaption></figcaption></figure>

1\. Start walk from $$v_1$$ on “unused” edges ... till you get back to $$v_1$$.

<figure><img src=".gitbook/assets/image (26).png" alt="" width="192"><figcaption></figcaption></figure>

2\. Remove tour $$C$$.

<figure><img src=".gitbook/assets/image (27).png" alt="" width="192"><figcaption></figcaption></figure>

3\. Let $$G_1, . . . , G_k$$ be connected components.

* Each is touched by $$C: V_i \cap C \neq \Phi$$.
  * Why? $$G$$ was connected.
* Let $$v_i$$ be <mark style="color:$primary;">(first) vetex</mark> in $$G_i$$ touched by $$C$$.
  * Example: $$v_1 = 1, v_2 = 10, v_3 = 4, v_4 = 2$$.

4\. Recurse on $$G_1, . . . , G_k$$ starting from $$v_i$$

<figure><img src=".gitbook/assets/image (28).png" alt="" width="192"><figcaption></figcaption></figure>



5\. <mark style="color:$danger;">Splice together.</mark>

* 1,10,<mark style="color:$danger;">7,8,5,10</mark> ,8,4,<mark style="color:blue;">3,11,4</mark> 5,2,<mark style="color:orange;">6,9,2</mark> and to 1

## Recursive/Inductive Algorithm

1. Take a walk from arbitrary node $$v$$ , until you get back to $$v$$.
   * **Claim**: <mark style="color:$success;">Do get back to</mark> $$v$$ <mark style="color:$success;">!</mark>
   * **Proof of Claim:** <mark style="color:$success;">Even degree. If enter, can leave except for</mark> $$v$$<mark style="color:$success;">.</mark>
2. Remove cycle $$C$$ from $$G$$.
   * Resulting graph may be disconnected. (Removed edges)
   * Let components be $$G_1, . . . , G_k$$.
   * Let $$v_i$$ be first vertex of $$C$$ that is in $$G_i$$.
   * Why is there a $$v_i$$ in $$C$$?
     * $$G$$ was connected ⇒ a vertex in $$G_i$$ must be incident to a removed edge in $$C$$.
   * **Claim**: Each vertex in each $$G_i$$ has even degree and is connected.
   * **Proof:** Tour $$C$$ has even incidences to any vertex $$v$$.
3. Find tour $$T_i$$ of $$G_i$$ starting/ending at $$v_i$$. Induction.
4. Splice $$T_i$$ into $$C$$ where $$v_i$$ first appears in $$C$$.

Visits every edge once:

Visits edges in C exactly once.

By induction for all edges in each $$G_i$$.

## <mark style="color:$danger;">Planar</mark> graphs.

**Definition:** <mark style="color:$success;">A graph that can be drawn in the plane</mark> <mark style="color:$success;"></mark><mark style="color:$success;">**without edge crossings**</mark>.

## Euler’s Formula

To prove a graph is not a planar graph.

<figure><img src=".gitbook/assets/image (29).png" alt="" width="345"><figcaption></figcaption></figure>

<mark style="color:$success;">**Faces**</mark><mark style="color:$success;">: Connected regions of the plane.  (No crossing edges, so face is valid only in planar graph. BUT we can assume the graph is planar, and for a planar graph, a face is a circle)</mark>

<mark style="color:$danger;">How many faces for triangle? 2 (triangle + infinant face)</mark>

Graph Types:

* <mark style="color:$primary;">**Complete Graph**</mark> (Each vetex is connected to all the other vetices)
  * $$K_3$$     ![](<.gitbook/assets/image (1) (1) (1) (1).png>)
  * $$K_4$$     ![](<.gitbook/assets/image (2) (1).png>)
* <mark style="color:$primary;">**Bipartite Graph**</mark> (Split the vetices into two groups, each vetex in on group is connected to all the other vetices in the other group)
  * $$K_{2,3}$$    ![](<.gitbook/assets/image (3) (1).png>)
  * $$K_{3,3}$$    ![](<.gitbook/assets/image (4).png>)
* $$v$$ is number of vertices
* $$e$$ is number of edges
* $$f$$ is number of faces.

**Euler’s Formula:&#x20;**<mark style="color:$success;">**Connected planar**</mark> <mark style="color:$success;"></mark><mark style="color:$success;">graph has</mark> $$v + f= e + 2$$<mark style="color:$success;">**,**</mark> $$v$$ is number of vertices, $$e$$ is number of edges, $$f$$ is number of faces.

* $$K_3$$: 3+ 2= 3+ 2, Planar
* $$K_4$$: 4+ 4= 6+ 2, Planar
* $$K_{2,3}$$: 5+ 3= 6+ 2, Planar
* $$K_{3,3}$$: <mark style="color:$danger;">faces???</mark>&#x20;
  * f = 10? (9 inner faces and 1 infinit face)
  * If $$K_{3,3}$$ is a planar graph, then according to Euler's Formula, f = e + 2 - v = 9 + 2 - 6 = <mark style="color:$warning;">**5**</mark>.

## Euler and Polyhedron.

Greeks knew formula for <mark style="color:$warning;">**convex polyhedron**</mark>. (凸面多面体)

<figure><img src=".gitbook/assets/image (30).png" alt=""><figcaption></figcaption></figure>

* Faces? 6.&#x20;
* Edges? 12.&#x20;
* Vertices? 8.

<mark style="color:$success;">Euler: Connected planar graph: v + f= e + 2.</mark> 8+ 6= 12+ 2.

Greeks couldn’t prove it. Induction? Remove vertice for polyhedron?

<mark style="color:$success;">Convex Polyhedron</mark> <mark style="color:$warning;">**without holes**</mark> <mark style="color:$success;">≡ Planar graphs.</mark>

Surround by sphere.

Project from point inside polytope onto sphere.

<mark style="color:$warning;">Sphere ≡Plane! Topologically.</mark>$$K_{3,3}$$

## Euler and Non-Planarity of $$K_5$$ and $$K_{3,3}$$&#x20;

<figure><img src=".gitbook/assets/image (32).png" alt="" width="292"><figcaption></figcaption></figure>

<mark style="color:$success;">Euler:</mark> $$v + f= e + 2$$ <mark style="color:$success;">for connected planar graph.</mark>

We consider simple graphs where $$v ≥3$$.

<figure><img src=".gitbook/assets/image (33).png" alt=""><figcaption></figcaption></figure>

* Left: 3 edges and 2 faces;
* Right: 2 edges and 1 face;

Consider <mark style="color:$warning;">Face Edge Adjacencies</mark>.

* Each face is adjacent to at least three edges: <mark style="color:$warning;">face-edge adjacencies</mark> $$≥3f$$.
* Each edge is adjacent to at most two faces: <mark style="color:$warning;">face-edge adjacencies</mark> $$≤2e$$.

⇒ $$3f ≤2e$$ <mark style="color:$danger;">for any planar graph. Or</mark> $$f ≤ \frac {2} {3} e$$<mark style="color:$danger;">.</mark>

Plug into Euler: $$v + \frac {2} {3}e ≥e + 2 \implies e ≤3v−6$$ (replace f with something bigger)

$$K_5$$&#x20;

* Edges? 4+ 3+ 2+ 1= 10.&#x20;
* Vertices? 5.
* 10 ≤3\*(5)−6= 9 is false ⇒ $$K_5$$ is not planar.

{% hint style="info" %}
How do you prove there is no planar drawing?

1\. Prove a property what a planar drawing looks like.

2\. And you can use it to argue that if the drawing applies to this property or not.

3\. Then you can conclude that drawings like $$K_5$$ is not planar.
{% endhint %}

## Proving non-planarity for $$K_{3,3}$$&#x20;

<figure><img src=".gitbook/assets/image (31).png" alt=""><figcaption></figcaption></figure>

* Counter from the bottom verteces, 3 + 3 + 3 = 9 edges.
* 6 verteces

<mark style="color:$success;">Euler’s formula ⇒ 3f ≤2e for any planar graph.</mark>

$$K_{3,3}$$

* Edges? 9.&#x20;
* Vertices. 6.
* 9 ≤3(6)−6 is true, then $$K_{3,3}$$ is planar.

<mark style="color:$danger;">Proof doesn’t work. Let’s fix this.</mark>

{% hint style="info" %}
<mark style="color:$warning;">In a planar face, each face corresponds to a cycle.</mark>
{% endhint %}

In  $$K_{3,3}$$, no cycles are triangles, <mark style="color:blue;">all faces are of length ≥4</mark>. Consider <mark style="color:$warning;">Face Edge Adjacencies</mark>.

* Each face is adjacent to at least <mark style="color:$danger;">**four**</mark> edges: <mark style="color:$warning;">face-edge adjacencies</mark> $$≥4f$$.
* Each edge is adjacent to (at most) two faces: <mark style="color:$warning;">face-edge adjacencies</mark> $$≤2e$$.

Because all cycles are even length; bipartite or edges only go between two groups.

{% hint style="info" %}
<mark style="color:$warning;">.... 4f ≤2e for any bipartite planar graph.</mark>
{% endhint %}

Euler:  $$v + f= e + 2$$  ⇒ $$v + \frac {1} {2} e ≥e + 2 \implies e ≤2v−4$$ for <mark style="color:$warning;">**bipartite planar graph**</mark>.

9 ≤2(6)−4. ⇒ $$K_{3,3}$$ is not planar!

## To Remember:

1. <mark style="color:$success;">The sum of the degrees is equal to the 2 times the sum of edges.</mark>
2. The key idea of Eulerian Tour: <mark style="color:$success;">if you enter, you can leave.</mark>
3. **Euler's fomula**: taking into acount of the each face is of size 3 or 4, we can munipulate the equaltion $$v + f = e + 2$$.
